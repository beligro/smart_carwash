# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–º–µ—Ä–æ–π Dahua (ITSAPI XML)

## –û–ø–∏—Å–∞–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–º–µ—Ä–æ–π Dahua —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª ITSAPI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–π –ø—Ä–∏ –≤—ã–µ–∑–¥–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π. –ö–∞–º–µ—Ä–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook –≤ XML —Ñ–æ—Ä–º–∞—Ç–µ –ø—Ä–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ –Ω–æ–º–µ—Ä–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –ë–ï–ó —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞.

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- ‚úÖ **ITSAPI XML** (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç)
- ‚úÖ **JSON** (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### DDD –¥–æ–º–µ–Ω `dahua`
```
backend/internal/domain/dahua/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ dahua.go              # –ú–æ–¥–µ–ª–∏ –¥–ª—è webhook
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îî‚îÄ‚îÄ service.go            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ handlers.go           # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ routes.go             # –ú–∞—Ä—à—Ä—É—Ç—ã
‚îî‚îÄ‚îÄ middleware/
    ‚îî‚îÄ‚îÄ auth.go               # Basic Auth + IP whitelist
```

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ session service
- `CompleteSessionWithoutRefund(sessionID uuid.UUID) error` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ë–ï–ó –≤–æ–∑–≤—Ä–∞—Ç–∞
- `GetActiveSessionByUserID(userID uuid.UUID) (*models.Session, error)` - –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ user service
- `GetUserByCarNumber(carNumber string) (*models.User, error)` - –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –Ω–æ–º–µ—Ä—É

## API Endpoints

### Webhook –æ—Ç –∫–∞–º–µ—Ä—ã Dahua (ITSAPI XML)
```
POST /api/v1/dahua/anpr-webhook
Content-Type: application/xml
```
**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

**–í—Ö–æ–¥—è—â–∏–π XML –æ—Ç –∫–∞–º–µ—Ä—ã Dahua (ITSAPI —Ñ–æ—Ä–º–∞—Ç):**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<EventNotificationAlert>
    <ipAddress>192.168.1.100</ipAddress>
    <portNo>80</portNo>
    <protocol>HTTP</protocol>
    <macAddress>00:11:22:33:44:55</macAddress>
    <channelID>1</channelID>
    <dateTime>2025-10-20T14:05:33</dateTime>
    <activePostCount>1</activePostCount>
    <eventType>ANPR</eventType>
    <eventState>active</eventState>
    <eventDescription>ANPR Event</eventDescription>
    <licensePlate>A123BC77</licensePlate>
    <confidence>98</confidence>
    <direction>out</direction>
    <imagePath>http://192.168.1.100/pic/20251020_140533.jpg</imagePath>
</EventNotificationAlert>
```

**XML –û—Ç–≤–µ—Ç (ITSAPI —Ñ–æ—Ä–º–∞—Ç):**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<Response>
    <result>OK</result>
    <message>–°–µ—Å—Å–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è A123BC77</message>
</Response>
```

### Webhook –æ—Ç –∫–∞–º–µ—Ä—ã Dahua (JSON - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
```
POST /api/v1/dahua/anpr-webhook
Content-Type: application/json
```
**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

**–í—Ö–æ–¥—è—â–∏–π JSON –æ—Ç –∫–∞–º–µ—Ä—ã Dahua (—Ä–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):**
```json
{
  "Picture": {
    "Plate": {
      "BoundingBox": [931, 1189, 1194, 1245],
      "Channel": 0,
      "IsExist": true,
      "PlateColor": "White",
      "PlateNumber": "O874yA154",
      "PlateType": "",
      "Region": "RUS",
      "UploadNum": 2
    },
    "SnapInfo": {
      "AllowUser": false,
      "AllowUserEndTime": "",
      "DefenceCode": "yCIWKTnP8IqWvxW2",
      "DeviceID": "d48a125d-abaf-9e67-2a55-58f94629abaf",
      "InCarPeopleNum": 0,
      "LanNo": 1,
      "OpenStrobe": false
    },
    "Vehicle": {
      "VehicleBoundingBox": [703, 552, 1459, 1315],
      "VehicleSeries": "–î—Ä—É–≥–æ–π"
    }
  }
}
```

**JSON –û—Ç–≤–µ—Ç (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏):**
```json
{
  "success": true,
  "message": "–°–µ—Å—Å–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è A123BC77"
}
```

### Health Check
```
GET /api/v1/dahua/health
```

### Device Registration (ITSAPI)
```
POST /api/v1/NotificationInfo/DeviceInfo
Content-Type: application/json
```

**–í—Ö–æ–¥—è—â–∏–π JSON –æ—Ç –∫–∞–º–µ—Ä—ã (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞):**
```json
{
  "DeviceID": "d48a125d-abaf-9e67-2a55-58f94629abaf",
  "DeviceModel": "DHI-ITC413-PW4D-IZ1(868MHz)",
  "DeviceName": "AM0C5C6PAJ23A56",
  "DeviceType": "Tollgate",
  "IPAddress": "192.168.88.100",
  "IPv6Address": "",
  "MACAddress": "30:dd:aa:62:a2:ae",
  "Manufacturer": "Dahua"
}
```

**JSON –û—Ç–≤–µ—Ç –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:**
```json
{
  "Result": "OK",
  "DeviceID": "d48a125d-abaf-9e67-2a55-58f94629abaf",
  "Message": "Device registered successfully",
  "Timestamp": "2025-10-20T14:05:33+08:00",
  "ServerID": "carwash-server-001",
  "Status": "Online"
}
```

### KeepAlive Heartbeat (ITSAPI)
```
GET/POST /api/v1/NotificationInfo/KeepAlive
Content-Type: application/xml
```

**XML –û—Ç–≤–µ—Ç –Ω–∞ KeepAlive:**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<HeartbeatResponse>
    <result>OK</result>
    <timestamp>2025-10-20T14:05:33+08:00</timestamp>
    <status>online</status>
    <nextHeartbeatInterval>30</nextHeartbeatInterval>
</HeartbeatResponse>
```

**JSON –û—Ç–≤–µ—Ç—ã (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏):**
```json
{
  "success": true,
  "message": "Device info received",
  "timestamp": "2025-10-20T14:05:33+08:00",
  "status": "online"
}
```

```json
{
  "success": true,
  "message": "Heartbeat received",
  "timestamp": "2025-10-20T14:05:33+08:00",
  "status": "online",
  "nextHeartbeatInterval": 30
}
```

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã
1. **–ö–∞–º–µ—Ä–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ** - JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –Ω–∞ `/NotificationInfo/DeviceInfo`
2. **–°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç DeviceID, –º–æ–¥–µ–ª—å, IP, MAC –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–º–µ—Ä–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö
4. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** - —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON –æ—Ç–≤–µ—Ç —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
5. **–°—Ç–∞—Ç—É—Å "Online"** - –∫–∞–º–µ—Ä–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Online" –∏ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è

### –ü–æ–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `DeviceID` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `DeviceModel` - –º–æ–¥–µ–ª—å –∫–∞–º–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, DHI-ITC413-PW4D-IZ1)
- `DeviceName` - –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
- `DeviceType` - —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Tollgate, Camera, etc.)
- `IPAddress` - IP –∞–¥—Ä–µ—Å –∫–∞–º–µ—Ä—ã
- `MACAddress` - MAC –∞–¥—Ä–µ—Å –∫–∞–º–µ—Ä—ã
- `Manufacturer` - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (Dahua)

### –û—Ç–≤–µ—Ç —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- `Result` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (OK/Error)
- `DeviceID` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `Message` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `Timestamp` - –≤—Ä–µ–º—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- `ServerID` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞
- `Status` - —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Online/Offline)

## –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**: Basic Auth (username/password) + IP whitelist
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ø—Ä–æ–≤–µ—Ä–∫–∞ JSON —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π**: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è —Å `direction = "out"`
4. **–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ø–æ –Ω–æ–º–µ—Ä—É –∞–≤—Ç–æ–º–æ–±–∏–ª—è –≤ –ø–æ–ª–µ `car_number`
5. **–ü–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `active`
6. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏**: –ë–ï–ó —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ —á–µ—Ä–µ–∑ `CompleteSessionWithoutRefund()`
7. **–í—ã–∫–ª—é—á–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —á–µ—Ä–µ–∑ Modbus (—Å–≤–µ—Ç + —Ö–∏–º–∏—è)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```env
# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è webhook
DAHUA_WEBHOOK_USERNAME=dahua_user
DAHUA_WEBHOOK_PASSWORD=dahua_password

# IP whitelist (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç CIDR)
DAHUA_ALLOWED_IPS=192.168.1.100,192.168.1.101,10.0.0.0/24
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä—ã Dahua (ITSAPI XML)

1. **–í—Ö–æ–¥ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–º–µ—Ä—ã**
2. **Event Settings ‚Üí HTTP Events**
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTP Events –¥–ª—è ITSAPI XML:**
   - URL: `http://your-server.com/api/v1/dahua/anpr-webhook`
   - Method: `POST`
   - Authentication: `Basic Auth`
   - Username: `dahua_user`
   - Password: `dahua_password`
   - Content-Type: `application/xml`
   - Format: `XML` (–≤—ã–±–µ—Ä–∏—Ç–µ XML —Ñ–æ—Ä–º–∞—Ç)

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ANPR Events:**
   - –í–∫–ª—é—á–∏—Ç—å ANPR —Å–æ–±—ã—Ç–∏—è
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
   - –£–∫–∞–∑–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (in/out)
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ITSAPI XML

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä—ã Dahua (JSON - –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

1. **–í—Ö–æ–¥ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–º–µ—Ä—ã**
2. **Event Settings ‚Üí HTTP Events**
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTP Events –¥–ª—è JSON:**
   - URL: `http://your-server.com/api/v1/dahua/anpr-webhook`
   - Method: `POST`
   - Authentication: `Basic Auth`
   - Username: `dahua_user`
   - Password: `dahua_password`
   - Content-Type: `application/json`
   - Format: `JSON` (–≤—ã–±–µ—Ä–∏—Ç–µ JSON —Ñ–æ—Ä–º–∞—Ç)

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ANPR Events:**
   - –í–∫–ª—é—á–∏—Ç—å ANPR —Å–æ–±—ã—Ç–∏—è
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
   - –£–∫–∞–∑–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (in/out)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ XML —Ñ–æ—Ä–º–∞—Ç–∞ ITSAPI

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ XML –∑–∞–ø—Ä–æ—Å–∞
–ö–∞–º–µ—Ä–∞ Dahua –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç XML –≤ —Ñ–æ—Ä–º–∞—Ç–µ ITSAPI —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:

- `ipAddress` - IP –∞–¥—Ä–µ—Å –∫–∞–º–µ—Ä—ã
- `portNo` - –ü–æ—Ä—Ç –∫–∞–º–µ—Ä—ã
- `protocol` - –ü—Ä–æ—Ç–æ–∫–æ–ª (–æ–±—ã—á–Ω–æ HTTP)
- `macAddress` - MAC –∞–¥—Ä–µ—Å –∫–∞–º–µ—Ä—ã
- `channelID` - ID –∫–∞–Ω–∞–ª–∞ –∫–∞–º–µ—Ä—ã
- `dateTime` - –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601
- `activePostCount` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- `eventType` - –¢–∏–ø —Å–æ–±—ã—Ç–∏—è (ANPR)
- `eventState` - –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è (active/inactive)
- `eventDescription` - –û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `licensePlate` - –†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- `confidence` - –£—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (0-100)
- `direction` - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (in/out)
- `imagePath` - –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ XML –æ—Ç–≤–µ—Ç–∞
–°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç XML –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ ITSAPI:

- `result` - –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ (OK/ERROR)
- `message` - –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É `Content-Type`:
- `application/xml` –∏–ª–∏ `text/xml` ‚Üí XML –ø–∞—Ä—Å–∏–Ω–≥ (ITSAPI)
- `application/json` ‚Üí JSON –ø–∞—Ä—Å–∏–Ω–≥ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –∫–∞–º–µ—Ä Dahua –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

**–î–ª—è DeviceInfo –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞):**
```
üì® –ó–∞–ø—Ä–æ—Å –Ω–∞ /NotificationInfo/DeviceInfo
üìã Method: POST
üìã Headers: map[Content-Type:[application/json] ...]
üìÑ Body: {"DeviceID":"d48a125d-abaf-9e67-2a55-58f94629abaf",...}
üìã Query params: map[]
üìã Content-Type: application/json
üìã Client IP: 192.168.88.100
üì° === –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ö–ê–ú–ï–†–´ DAHUA ===
üÜî Device ID: d48a125d-abaf-9e67-2a55-58f94629abaf
üì∑ –ú–æ–¥–µ–ª—å: DHI-ITC413-PW4D-IZ1(868MHz)
üìõ –ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: AM0C5C6PAJ23A56
üè∑Ô∏è –¢–∏–ø: Tollgate
üåê IP –∞–¥—Ä–µ—Å: 192.168.88.100
üîß MAC –∞–¥—Ä–µ—Å: 30:dd:aa:62:a2:ae
üè≠ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: Dahua
‚úÖ –ö–∞–º–µ—Ä–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞: AM0C5C6PAJ23A56 (192.168.88.100)
```

**–î–ª—è KeepAlive –∑–∞–ø—Ä–æ—Å–æ–≤:**
```
üíì Heartbeat –æ—Ç –∫–∞–º–µ—Ä—ã –Ω–∞ /NotificationInfo/KeepAlive
üìã Method: GET
üìã Client IP: 192.168.1.100
üíì Heartbeat body: <xml>...</xml> (–µ—Å–ª–∏ POST)
```

**–î–ª—è ANPR Webhook:**
```
üöó ANPR Webhook –æ—Ç –∫–∞–º–µ—Ä—ã Dahua
üìã Method: POST
üìã Headers: map[Content-Type:[application/xml] ...]
üìÑ Body: <?xml version="1.0" encoding="UTF-8"?><EventNotificationAlert><licensePlate>A123BC77</licensePlate><direction>out</direction><confidence>98</confidence></EventNotificationAlert>
üìã Query params: map[]
üìã Content-Type: application/xml
üìã Client IP: 192.168.1.100
üìã License Plate: A123BC77
üìã Direction: out
üìã Confidence: 98
‚úÖ ANPR —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ: –°–µ—Å—Å–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è A123BC77
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω: A123BC77
üéØ –ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è –Ω–∞–π–¥–µ–Ω–∞: 12345678-1234-1234-1234-123456789abc
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è ANPR webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ IP whitelist**

1. **ANPR Webhook** - —Ç–æ–ª—å–∫–æ IP whitelist (–±–µ–∑ Basic Auth)
2. **DeviceInfo/KeepAlive** - –ë–ï–ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç ITSAPI)
3. **Health Check** - –ë–ï–ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

### IP Whitelist
- **–í–∫–ª—é—á–µ–Ω –¥–ª—è ANPR webhook** - –ø—Ä–æ–≤–µ—Ä–∫–∞ IP –∞–¥—Ä–µ—Å–∞ –∫–∞–º–µ—Ä—ã
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `DAHUA_ALLOWED_IPS`
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ CIDR** - –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Å–µ—Ç–∏
- **–ü—Ä–∏–º–µ—Ä**: `DAHUA_ALLOWED_IPS=192.168.88.100,192.168.1.0/24`

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ **ITSAPI XML**: –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∫–∞–º–µ—Ä Dahua
- ‚úÖ **JSON**: –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ø–æ Content-Type –∑–∞–≥–æ–ª–æ–≤–∫—É

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã IP
- –¢–æ—á–Ω—ã–µ IP: `192.168.1.100`
- CIDR –ø–æ–¥—Å–µ—Ç–∏: `10.0.0.0/24`
- –°–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: `192.168.1.100,192.168.1.101,10.0.0.0/24`

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–∫—Å–∏
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π IP –∫–ª–∏–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
- `X-Forwarded-For`
- `X-Real-IP`
- `RemoteAddr`

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –º–µ—Ç–∞-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
- `dahua_license_plate` - –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- `dahua_direction` - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
- `dahua_confidence` - —É—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- `dahua_client_ip` - IP –∞–¥—Ä–µ—Å –∫–∞–º–µ—Ä—ã
- `dahua_username` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
1. **–ù–µ–≤–µ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Üí HTTP 401
2. **IP –Ω–µ –≤ whitelist** ‚Üí HTTP 403
3. **–ù–µ–≤–µ—Ä–Ω—ã–π JSON** ‚Üí HTTP 400
4. **Direction != "out"** ‚Üí HTTP 200 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω** ‚Üí HTTP 200 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
6. **–ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞** ‚Üí HTTP 200 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
7. **–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏** ‚Üí HTTP 500

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
–í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Check
```
GET /api/v1/dahua/health
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Dahua –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç",
  "service": "dahua"
}
```

### –ú–µ—Ç—Ä–∏–∫–∏
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π —á–µ—Ä–µ–∑ Dahua
- –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook'–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
```bash
curl -X POST http://localhost:8080/api/v1/dahua/anpr-webhook \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic ZGFodWFfdXNlcjpkYWh1YV9wYXNzd29yZA==" \
  -d '{
    "licensePlate": "A123BC77",
    "confidence": 98,
    "direction": "out",
    "eventType": "ANPR",
    "captureTime": "2025-10-20T14:05:33",
    "imagePath": "http://192.168.1.100/pic/20251020_140533.jpg"
  }'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ health check
```bash
curl http://localhost:8080/api/v1/dahua/health
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –≤ `.env` —Ñ–∞–π–ª
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–º–µ—Ä—É Dahua** —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check** –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å webhook** —Å —Ç–µ—Å—Ç–æ–≤—ã–º –∑–∞–ø—Ä–æ—Å–æ–º

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ë–µ–∑ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞
–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ Dahua webhook **–ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** —á–∞—Å—Ç–∏—á–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤, —Ç–∞–∫ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —É—Å–ª—É–≥—É.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –í—ã–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–µ—Ç–∞ –≤ –±–æ–∫—Å–µ —á–µ—Ä–µ–∑ Modbus
- –í—ã–∫–ª—é—á–µ–Ω–∏–µ —Ö–∏–º–∏–∏ (–µ—Å–ª–∏ –±—ã–ª–∞ –≤–∫–ª—é—á–µ–Ω–∞) —á–µ—Ä–µ–∑ Modbus
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±–æ–∫—Å–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –≤—ã–µ–∑–¥–æ–≤
–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è —Å `direction = "out"`. –°–æ–±—ã—Ç–∏—è –≤—ä–µ–∑–¥–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `DAHUA_WEBHOOK_USERNAME` –∏ `DAHUA_WEBHOOK_PASSWORD`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Basic Auth –≤ –∫–∞–º–µ—Ä–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å IP whitelist
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DAHUA_ALLOWED_IPS`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π IP –∫–∞–º–µ—Ä—ã –≤ –ª–æ–≥–∞—Ö
3. –î–æ–±–∞–≤–∏—Ç—å IP –∫–∞–º–µ—Ä—ã –≤ whitelist

### –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å Modbus
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Modbus –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Modbus —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ Modbus –æ–ø–µ—Ä–∞—Ü–∏–π

