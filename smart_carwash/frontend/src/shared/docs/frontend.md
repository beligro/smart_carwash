# Документация фронтенда

## Структура проекта

Фронтенд разработан с использованием React и представляет собой многоинтерфейсное приложение для умных автомоек.

### Основная структура

```
frontend/
├── src/
│   ├── apps/                  # Отдельные приложения
│   │   ├── home/              # Главная страница
│   │   ├── telegram/          # Telegram Mini App
│   │   ├── cashier/           # Интерфейс кассира
│   │   └── admin/             # Интерфейс администратора
│   ├── shared/                # Общие компоненты и утилиты
│   │   ├── components/        # Общие компоненты
│   │   ├── hooks/             # Общие хуки
│   │   ├── services/          # Общие сервисы
│   │   ├── styles/            # Общие стили
│   │   └── utils/             # Общие утилиты
│   ├── components/            # Компоненты для Telegram Mini App (существующие)
│   ├── App.js                 # Главный компонент приложения с маршрутизацией
│   └── index.js               # Точка входа
```

## Интерфейсы

### 1. Главная страница (/)

Главная страница содержит приветственное сообщение и ссылки на другие интерфейсы:
- Ссылка на Telegram Mini App
- Ссылка на интерфейс кассира
- Ссылка на интерфейс администратора

### 2. Telegram Mini App (/telegram)

Интерфейс для пользователей Telegram, который позволяет:
- Просматривать статус очереди и боксов
- Создавать сессии мойки
- Управлять активными сессиями
- Просматривать историю сессий

### 3. Интерфейс кассира (/cashier)

Интерфейс для кассиров автомойки, который будет позволять:
- Создавать сессии для клиентов
- Управлять очередью
- Просматривать статус боксов
- Обрабатывать оплату

### 4. Интерфейс администратора (/admin)

Интерфейс для администраторов системы, который будет позволять:
- Управлять настройками системы
- Просматривать статистику и аналитику
- Управлять пользователями
- Настраивать параметры боксов

## Общие компоненты и утилиты

### Стили

- `theme.js` - темы для светлого и темного режимов
- `global.css` - глобальные стили приложения

### Сервисы

- `ApiService.js` - сервис для работы с API

### Хуки

- `useTimer.js` - хук для работы с таймером обратного отсчета

### Утилиты

- `formatters.js` - функции для форматирования данных
- `statusHelpers.js` - функции для работы со статусами сессий и боксов

## Маршрутизация

Маршрутизация реализована с использованием React Router:

```jsx
<Router>
  <Routes>
    {/* Главная страница */}
    <Route path="/" element={<HomePage />} />
    
    {/* Маршруты для Telegram Mini App */}
    <Route path="/telegram/*" element={<TelegramApp />} />
    
    {/* Маршруты для интерфейса администратора */}
    <Route path="/admin/*" element={<AdminApp />} />
    
    {/* Маршруты для интерфейса кассира */}
    <Route path="/cashier/*" element={<CashierApp />} />
    
    {/* Перенаправление неизвестных маршрутов на главную страницу */}
    <Route path="*" element={<Navigate to="/" />} />
  </Routes>
</Router>
```

## Технические особенности

1. **Интеграция с Telegram**
   - Использование @twa-dev/sdk для взаимодействия с Telegram Mini App
   - Автоматическое применение темы Telegram (светлая/темная)
   - Получение данных пользователя из Telegram

2. **Поллинг данных**
   - Автоматическое обновление статуса очереди каждые 10 секунд
   - Обновление статуса активной сессии каждые 5 секунд

3. **Адаптивный дизайн**
   - Поддержка мобильных устройств
   - Адаптация под темную и светлую темы

4. **Общие компоненты**
   - Все интерфейсы используют общие компоненты и стили
   - Единый дизайн-система для всех интерфейсов
