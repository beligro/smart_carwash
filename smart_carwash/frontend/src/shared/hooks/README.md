# Хуки (Hooks)

## usePolling

Универсальный хук для автоматического поллинга данных с настраиваемым интервалом.

### Параметры

- `callback` (Function) - функция для выполнения при каждом поллинге
- `interval` (number) - интервал в миллисекундах
- `enabled` (boolean) - включен ли поллинг (по умолчанию true)
- `dependencies` (Array) - зависимости для перезапуска поллинга (по умолчанию [])
- `immediate` (boolean) - выполнить callback сразу при монтировании (по умолчанию false)

### Особенности

- **Предотвращение дублирующих запросов** - если предыдущий запрос еще выполняется, новый не запустится
- **Автоматическая очистка** - интервалы очищаются при размонтировании компонента
- **Обработка ошибок** - поллинг продолжается даже при ошибках загрузки данных
- **Условный поллинг** - можно включать/отключать поллинг динамически

### Пример использования

```javascript
import usePolling from '../shared/hooks/usePolling';

const MyComponent = () => {
  const [data, setData] = useState([]);
  const [isActive, setIsActive] = useState(true);

  const loadData = async () => {
    try {
      const response = await ApiService.getData();
      setData(response.data);
    } catch (error) {
      console.error('Ошибка загрузки данных:', error);
    }
  };

  // Поллинг каждые 5 секунд, только когда компонент активен
  usePolling(loadData, 5000, isActive, []);

  return (
    <div>
      {/* Ваш контент */}
    </div>
  );
};
```

### Реализованный поллинг в проекте

1. **WashBoxManagement.js** - поллинг боксов администратора каждые 3 секунды
2. **BoxManagement.js** - поллинг боксов кассира каждые 5 секунд  
3. **CashierApp.js** - поллинг основных данных кассира каждые 3 секунды
4. **WashBoxList.js** - поллинг боксов уборщика каждые 5 секунд

