# Умная автомойка

Проект системы управления умной автомойкой с несколькими интерфейсами.

## Структура проекта

Проект разделен на несколько частей:

### Бэкенд

Бэкенд разработан с использованием подхода Domain-Driven Design (DDD) на языке Go. Код разделен на следующие доменные модели:

- **User** - управление пользователями
- **WashBox** - управление боксами автомойки
- **Session** - управление сессиями мойки
- **Queue** - управление очередью и статусом боксов
- **Telegram** - интеграция с Telegram ботом
- **Settings** - настройки системы

### Фронтенд

Фронтенд разработан с использованием React и включает в себя несколько интерфейсов:

1. **Главная страница** (/) - страница с приветственным текстом и ссылками на другие интерфейсы
2. **Telegram Mini App** (/telegram) - интерфейс для пользователей Telegram
3. **Интерфейс кассира** (/cashier) - интерфейс для кассиров автомойки
4. **Интерфейс администратора** (/admin) - интерфейс для администраторов системы

Структура фронтенда:

```
frontend/
├── src/
│   ├── apps/                  # Отдельные приложения
│   │   ├── home/              # Главная страница
│   │   ├── telegram/          # Telegram Mini App
│   │   ├── cashier/           # Интерфейс кассира
│   │   └── admin/             # Интерфейс администратора
│   ├── shared/                # Общие компоненты и утилиты
│   │   ├── components/        # Общие компоненты
│   │   ├── hooks/             # Общие хуки
│   │   ├── services/          # Общие сервисы
│   │   ├── styles/            # Общие стили
│   │   └── utils/             # Общие утилиты
│   ├── components/            # Компоненты для Telegram Mini App (существующие)
│   ├── App.js                 # Главный компонент приложения с маршрутизацией
│   └── index.js               # Точка входа
```

## Запуск проекта

### Требования

- Docker и Docker Compose
- Node.js (для локальной разработки)
- Go (для локальной разработки)

### Запуск с помощью Docker Compose

1. Клонировать репозиторий:
   ```
   git clone <url-репозитория>
   cd smart_carwash
   ```

2. Создать файл `.env` с необходимыми переменными окружения:
   ```
   POSTGRES_HOST=postgres
   POSTGRES_USER=postgres
   POSTGRES_PASSWORD=postgres
   POSTGRES_DB=carwash
   REACT_APP_API_URL=/api
   ```

3. Запустить проект:
   ```
   docker-compose up -d
   ```

4. Приложение будет доступно по следующим URL:
   - Главная страница: http://localhost/
   - Telegram Mini App: http://localhost/telegram
   - Интерфейс кассира: http://localhost/cashier
   - Интерфейс администратора: http://localhost/admin
   - API: http://localhost/api

### Локальная разработка фронтенда

1. Перейти в директорию фронтенда:
   ```
   cd frontend
   ```

2. Установить зависимости:
   ```
   npm install
   ```

3. Запустить в режиме разработки:
   ```
   npm start
   ```

4. Фронтенд будет доступен по адресу http://localhost:3000

## Особенности проекта

- **Единый домен**: Все интерфейсы работают на одном домене с разными URL-путями
- **Общие компоненты**: Интерфейсы используют общие компоненты и стили
- **Адаптивный дизайн**: Все интерфейсы адаптированы для мобильных устройств
- **Интеграция с Telegram**: Поддержка Telegram Mini App для удобства пользователей
